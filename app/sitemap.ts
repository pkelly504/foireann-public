import { MetadataRoute } from 'next'
import { OrganizationsResponse, PagedResponse } from './types/types'
 
export default async function sitemap(): Promise<MetadataRoute.Sitemap> {
  const orgs: PagedResponse<OrganizationsResponse> = await fetch('https://organization-uat.gaaservers.net/organization', {
    headers: {
      Authorization: `Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJWVS1CRjNNbFpjM090N2NXWU5IX3hDZWxJWUd4Y1J5cGtwVzdMRVFxYmhVIn0.eyJleHAiOjE2OTE4NjI5MzcsImlhdCI6MTY5MTg2MTEzNywianRpIjoiN2Y0NTBjNmItZDg2ZC00NjEzLWFjNzUtM2M0YTY1YTQ1ODFjIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLXVhdC5nYWFzZXJ2ZXJzLm5ldC9hdXRoL3JlYWxtcy9nYWEiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiNzhlNGU1ZTYtYjE0MC00M2I5LTg4OWYtYzgzMjdlMjQ4MzZkIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZ2FhLWRpcmVjdCIsInNlc3Npb25fc3RhdGUiOiIzNmIyZTE5ZS04NTEwLTRiNTAtYjVkOS05ZGNjYmIxN2YyM2IiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHBzOi8vZ2Fhd2ViYXBwdWF0LnMzLWV1LXdlc3QtMS5hbWF6b25hd3MuY29tIiwiaHR0cHM6Ly9nYW1lc2RldmVsb3BtZW50dWF0LmdhYXNlcnZlcnMubmV0IiwiaHR0cHM6Ly9wZXJzb24tc2VydmljZS11YXQuZ2Fhc2VydmVycy5uZXQiLCJodHRwOi8vbG9jYWxob3N0OjE5MDAyIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDoxOTAwNiIsImh0dHBzOi8vYXBpdjIuZ2Fhc2VydmVycy5uZXQiLCJodHRwOi8vZ2Fhd2ViYXBwdWF0LnMzLXdlYnNpdGUtZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20iLCJodHRwczovL2F1dGguZXhwby5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MCIsImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MSIsImh0dHA6Ly9hZmQyYzFmYjg4ZTBlMTFlYWI3ZmUwMjMyNzcyMzQ4Mi0xNjkxMDQ2OTIzLmV1LXdlc3QtMS5lbGIuYW1hem9uYXdzLmNvbSIsImh0dHBzOi8vZ2Fhd2ViYXBwdWF0LnMzLXdlYnNpdGUtZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20iLCJodHRwczovL25ld2FwaXVhdC5nYWFzZXJ2ZXJzLm5ldCIsImh0dHBzOi8vd2ViLmdhYXNlcnZlcnMubmV0IiwiaHR0cDovL2dhYS50ZXN0IiwiaHR0cHM6Ly9hY3Rpdml0eS5nYWEuaWUiLCJodHRwczovLyouZ2Fhc2VydmVycy5uZXQiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbInNtYXJ0X3NsaW90YXJfdXNlciIsInBpZl9jbGFpbV9jaGVja2VyIiwic3VwZXJfYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyIsIm1lbWJlciIsInVtYV9hdXRob3JpemF0aW9uIiwibG1zX3VzZXIiXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJzaWQiOiIzNmIyZTE5ZS04NTEwLTRiNTAtYjVkOS05ZGNjYmIxN2YyM2IiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiY29tbXNfYWRtaW5fb2YiOlsiZjAzMzcwZjEtYTY3My00NGI3LWIxNDktYTNlOGNhYzM1YmQyIiwiOTEwZWRkYTktNzlkMy00ZTFhLWJhMWItNWIwZmJlOGQ4MjBhIiwiYjBlOWI4ZjktMjZlNC0yNDE2LTY0NzEtYmFiN2Q0MDE4Njg5IiwiYWU2NDg2MjktNjNkZS0xMjJlLTY3YmQtNzc3Zjg1ZjE3NTk5IiwiNGNmNTRhM2QtNzgwYi05Mjk0LTgxNWUtNWYyNDkxNjE1MzY1IiwiNTc4NWMzNjUtMWE1ZC05MTFmLWNhMmItMzExYjQ4YzE1MzUzIiwiYzRjYTQyMzgtYTBiOS0yMzgyLTBkY2MtNTA5YTZmNzU4NDkxIiwiNDNiYWE2NzYtMmZhOC0xYmI0LTNiMzktYzYyNTUzYjIxMDc5IiwiNzk3MDVkNzktNmM4Ni04NWIzLTMyNGYtMzYzYTc1NzE1NDMxIiwiYjI5ZWVkNDQtMjc2MS00NGU0LWU4MTAtM2E2NjFmOWExNzMxIiwiNTNjYzA4MWEtMzgwNS00MzBkLTgwNDMtNTg4NjMzNWVjMDMwIiwiMWY3MWUzOTMtYjM4MC05MTk3LWVkNjYtZGY4MzZmZTgxOTQ2IiwiYjViMDNmMDYtMjcxZi04OTE3LTY4NWQtMTRjZWE3YzYyOTA5IiwiZTIxZTRlNTgtYWQ5YS1iNTZlLThhNDYtMzQwNDZkYTkyMTQ4IiwiMzdkMDk3Y2EtZjEyOS05ZDlhLWE3OWMtMmMyYjg0M2QyMTM5IiwiMWM2YTg0MjQtZjBiNC02NDE5LTg3NjAtYmM2NThkMTAwMTUwIiwiNjkwODc1Y2UtYTc4Mi04NWZlLTg3NzAtMDgyYzZkMzIyNjcxIiwiOWQ3MzExYmEtNDU5Zi05ZTQ1LWVkNzQtNjc1NWEzMmQxOTg4IiwiYTdjODJmNWYtNmQ0YS0xMWQzLTNmODgtY2M1MzQxMzAwMDU2IiwiNDA3OTAxNmQtOTQwMi0xMGI0LWFlOWEtZTdkNDFjNGExMjg3IiwiNTZjMGNiNDItYTE3OC00NjQ1LWFlODctZjIyYTE0NTIxNWQ5Il0sInZldHRpbmdfYWRtaW5fb2YiOlsiYjI5ZWVkNDQtMjc2MS00NGU0LWU4MTAtM2E2NjFmOWExNzMxIiwiYTdjODJmNWYtNmQ0YS0xMWQzLTNmODgtY2M1MzQxMzAwMDU2IiwiNDNiYWE2NzYtMmZhOC0xYmI0LTNiMzktYzYyNTUzYjIxMDc5Il0sImd1YXJkaWFuX29mIjpbImVjOGJhZDk4LWQ5MmUtNGVlZC1hNTk1LTRlMjc2Mjc3MDk4OCJdLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ1YXRwa2FkbWluIiwiZ2l2ZW5fbmFtZSI6IlVBVCBQSyIsImZlYXR1cmVzIjpbIkRJU0FCTEVfQ09PS0lFX0NPTlNFTlQiLCJDRVJUSUZJQ0FUSU9OUyIsIkNFUlRfUkVQT1JUUyIsIlBMQVlFUl9UUkFOU0ZFUlMiLCJDT01QRVRJVElPTlMiXSwibmFtZSI6IlVBVCBQSyBBZG1pbiIsImFkbWluX29mIjpbImM0Y2E0MjM4LWEwYjktMjM4Mi0wZGNjLTUwOWE2Zjc1ODQ5MSIsIjU2YzBjYjQyLWExNzgtNDY0NS1hZTg3LWYyMmExNDUyMTVkOSIsIjU3ODVjMzY1LTFhNWQtOTExZi1jYTJiLTMxMWI0OGMxNTM1MyIsIjFjNmE4NDI0LWYwYjQtNjQxOS04NzYwLWJjNjU4ZDEwMDE1MCIsIjQzYmFhNjc2LTJmYTgtMWJiNC0zYjM5LWM2MjU1M2IyMTA3OSIsIjlkNzMxMWJhLTQ1OWYtOWU0NS1lZDc0LTY3NTVhMzJkMTk4OCIsIjkxMGVkZGE5LTc5ZDMtNGUxYS1iYTFiLTViMGZiZThkODIwYSIsImIyOWVlZDQ0LTI3NjEtNDRlNC1lODEwLTNhNjYxZjlhMTczMSIsIjE0ZWUyMmVhLWJhMjktNzk0NC1jOTZhLWZkYmU1YjEwMDAwMCIsIjI2ZjViZDRhLWE2NGYtZGFkZi05NjE1LTJjYTZlNjQwMjA5MCIsIjUzY2MwODFhLTM4MDUtNDMwZC04MDQzLTU4ODYzMzVlYzAzMCIsImMzZTQwMzVhLWYyYTEtY2RlOS1mMjFlLTFhZTE5NTFhMjE2NCIsImYwMzM3MGYxLWE2NzMtNDRiNy1iMTQ5LWEzZThjYWMzNWJkMiIsIjM3ZDA5N2NhLWYxMjktOWQ5YS1hNzljLTJjMmI4NDNkMjEzOSIsImFlNjQ4NjI5LTYzZGUtMTIyZS02N2JkLTc3N2Y4NWYxNzU5OSIsIjNkYzgxZTNmLTJjNTItM2ZiNS05NTU3LTYxYmJlMjEwMDAwMyIsIjFmNzFlMzkzLWIzODAtOTE5Ny1lZDY2LWRmODM2ZmU4MTk0NiIsIjY5MDg3NWNlLWE3ODItODVmZS04NzcwLTA4MmM2ZDMyMjY3MSIsImUyMWU0ZTU4LWFkOWEtYjU2ZS04YTQ2LTM0MDQ2ZGE5MjE0OCIsImIwZTliOGY5LTI2ZTQtMjQxNi02NDcxLWJhYjdkNDAxODY4OSIsIjQwNzkwMTZkLTk0MDItMTBiNC1hZTlhLWU3ZDQxYzRhMTI4NyIsIjc5NzA1ZDc5LTZjODYtODViMy0zMjRmLTM2M2E3NTcxNTQzMSIsImI1YjAzZjA2LTI3MWYtODkxNy02ODVkLTE0Y2VhN2M2MjkwOSIsIjRjZjU0YTNkLTc4MGItOTI5NC04MTVlLTVmMjQ5MTYxNTM2NSIsIjFiZTFlZjVlLWYxN2MtNTMyYi0zNzdiLTUyMzhjMDEwMDAxOCIsImE3YzgyZjVmLTZkNGEtMTFkMy0zZjg4LWNjNTM0MTMwMDA1NiJdLCJmaW5hbmNlX2FkbWluX29mIjpbIjU3ODVjMzY1LTFhNWQtOTExZi1jYTJiLTMxMWI0OGMxNTM1MyIsImM0Y2E0MjM4LWEwYjktMjM4Mi0wZGNjLTUwOWE2Zjc1ODQ5MSIsIjQzYmFhNjc2LTJmYTgtMWJiNC0zYjM5LWM2MjU1M2IyMTA3OSIsIjc5NzA1ZDc5LTZjODYtODViMy0zMjRmLTM2M2E3NTcxNTQzMSIsImIyOWVlZDQ0LTI3NjEtNDRlNC1lODEwLTNhNjYxZjlhMTczMSIsIjUzY2MwODFhLTM4MDUtNDMwZC04MDQzLTU4ODYzMzVlYzAzMCIsImI1YjAzZjA2LTI3MWYtODkxNy02ODVkLTE0Y2VhN2M2MjkwOSIsIjM3ZDA5N2NhLWYxMjktOWQ5YS1hNzljLTJjMmI4NDNkMjEzOSIsIjFjNmE4NDI0LWYwYjQtNjQxOS04NzYwLWJjNjU4ZDEwMDE1MCIsIjY5MDg3NWNlLWE3ODItODVmZS04NzcwLTA4MmM2ZDMyMjY3MSIsIjlkNzMxMWJhLTQ1OWYtOWU0NS1lZDc0LTY3NTVhMzJkMTk4OCIsImYwMzM3MGYxLWE2NzMtNDRiNy1iMTQ5LWEzZThjYWMzNWJkMiIsIjc0YTcwYTQ0LTljMjItNDYwYS1hNmQ5LWJkYjk0YmY5Y2Q0NCIsIjkxMGVkZGE5LTc5ZDMtNGUxYS1iYTFiLTViMGZiZThkODIwYSIsImIwZTliOGY5LTI2ZTQtMjQxNi02NDcxLWJhYjdkNDAxODY4OSIsImFlNjQ4NjI5LTYzZGUtMTIyZS02N2JkLTc3N2Y4NWYxNzU5OSIsIjRjZjU0YTNkLTc4MGItOTI5NC04MTVlLTVmMjQ5MTYxNTM2NSIsImE3YzgyZjVmLTZkNGEtMTFkMy0zZjg4LWNjNTM0MTMwMDA1NiIsIjFmNzFlMzkzLWIzODAtOTE5Ny1lZDY2LWRmODM2ZmU4MTk0NiIsImMzZTQwMzVhLWYyYTEtY2RlOS1mMjFlLTFhZTE5NTFhMjE2NCJdLCJmYW1pbHlfbmFtZSI6IkFkbWluIiwicHJlZmVycmVkX2xhbmd1YWdlIjoiZW4iLCJlbWFpbCI6InBlYWRhci5rZWxseUBkYXdzb25hbmRyZXdzLmNvbSIsInBlcnNvbl9pZCI6IjdkMTQ0ZjlmLWM4NWEtNDgzOC1iN2E1LWEwMzU2YmQzYmVmNiJ9.X2F0edzWCxzH8TkVBu1NkyIi8Q9yFeUi9GyQLO44DwARyoZUV3UAtcJ_UJADzC-nlwecIL7-470Bb-c_A7vBHFhANlNDOuRlNChvUwNwW2r0Tr2t6vgaaJFSXA5bcQt9aR0ZTHVODvjRuhr1-oSM1VPlLWUjx7dgaOGnnzUbBv_rf2rKhz87k0f5KbVaNp5H2LI7e9-w6IwYKW3b2PiYRPkY0_GJd4dmEa8UNtKYp-XUhJ3OgHSIuL7WV_aVSQvUPCTw3cIPq2Q2hKFoPnfVaYTYjCKvLU2NMHrNB1Z4LNTylKchGiNSh5HJrk1DiyTrOwLjqgFlyT7G4joHzonSFA`
    }
  }).then(res => res.json());

  return [
    {
      url: 'https://foireann.ie',
      lastModified: new Date(),
    },
  ].concat(orgs._embedded.organizations.map(org => ({
    url: `https://foireann.ie/clubs/${org.id}`,
    lastModified: new Date(),
  })));
}
